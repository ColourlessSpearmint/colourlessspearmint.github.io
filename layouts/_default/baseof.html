<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{{ .Title }}</title>
        <meta name="description" content="{{ .Description }}" />
        <link rel="canonical" href="{{ .Permalink }}" />
        <meta property="og:title" content="{{ .Title }}" />
        <meta property="og:description" content="{{ .Description }}" />
        {{ if eq .Section "about" }}
        <meta property="og:type" content="profile" />
        {{ else if eq .Section "blog" }}
        <meta property="og:type" content="article" />
        {{ else }}
        <meta property="og:type" content="website" />
        {{ end }}
        <meta property="og:url" content="{{ .Permalink }}" />

        <link rel="icon" href="/favicon.ico" type="image/x-icon" />

        <!-- Font Preloads -->
        <link
            rel="preload"
            href="/fonts/Fira_Code.woff2"
            as="font"
            type="font/woff2"
            crossorigin
        />
        <link
            rel="preload"
            href="/fonts/Nunito-cyrillic-italic.woff2"
            as="font"
            type="font/woff2"
            crossorigin
        />
        <link
            rel="preload"
            href="/fonts/Nunito-cyrillic.woff2"
            as="font"
            type="font/woff2"
            crossorigin
        />
        <link
            rel="preload"
            href="/fonts/Nunito-latin-ext-italic.woff2"
            as="font"
            type="font/woff2"
            crossorigin
        />
        <link
            rel="preload"
            href="/fonts/Nunito-latin-ext.woff2"
            as="font"
            type="font/woff2"
            crossorigin
        />
        <link
            rel="preload"
            href="/fonts/Nunito-latin.woff2"
            as="font"
            type="font/woff2"
            crossorigin
        />
        <link
            rel="preload"
            href="/fonts/Nunito-latin-italic.woff2"
            as="font"
            type="font/woff2"
            crossorigin
        />
        <link
            rel="preload"
            href="/fonts/Sen-latin.woff2"
            as="font"
            type="font/woff2"
            crossorigin
        />
        <link
            rel="preload"
            href="/fonts/Sen-latin-ext.woff2"
            as="font"
            type="font/woff2"
            crossorigin
        />

        {{ $commonCss := resources.Get "common.css" | minify }}
        {{ $fontsCss := resources.Get "fonts.css" | minify }}

        {{ $moduleCss := resources.Match "modules/*.css" | resources.Concat "modules.css" | minify }}

        {{ $bundleCss := slice $commonCss $fontsCss $moduleCss | resources.Concat "bundle.css" }}


        <link rel="stylesheet" href="{{ $bundleCss.Permalink }}" />

        {{ $commonJs := resources.Get "common.js" | minify }}
        <script src="{{ $commonJs.Permalink }}"></script>

        {{ $quicklinkJs := resources.Get "quicklink.js" | minify }}
        <script src="{{ $quicklinkJs.Permalink }}" defer></script>

        {{ block "resources" . }}{{ end }}
    </head>
    <body>
        {{ partial "header.html" . }}
        <main>{{ block "main" . }}{{ end }}</main>
        {{ block "after_main" . }}{{ end }} {{ partial "footer.html" . }}
    </body>
</html>
