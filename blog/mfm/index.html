<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mint Flavoured Markdown</title>
    <meta name="description" content="a specification of Mint Flavoured Markdown, a custom markdown flavour I developed for use in my custom SSG">
    <link rel="canonical" href="https://colourlessspearmint.github.io/blog/mfm/">
    <meta property="og:title" content="Mint Flavoured Markdown">
    <meta property="og:description" content="a specification of Mint Flavoured Markdown, a custom markdown flavour I developed for use in my custom SSG">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://colourlessspearmint.github.io/blog/mfm/">
    <link rel="stylesheet" href="/common.css">
    <link rel="icon" href="/favicon.ico" type="image/x-icon"/>
    <script src="/common.js"></script>
</head>
<body>
<ethan-header></ethan-header>
<main>
<h1 class="animated">Mint Flavoured Markdown</h1>
<time class="animated" datetime="2025-06-30">June 30, 2025</time>

<div class="post-tags">
  
    <a class="post-tag animated" href="/tag/projects">#projects</a> 
  
    <a class="post-tag animated" href="/tag/programming">#programming</a> 
  
    <a class="post-tag animated" href="/tag/webdev">#webdev</a> 
  
    <a class="post-tag animated" href="/tag/personalwebsite">#personalwebsite</a>
  
</div>

<article class="animated">
<img alt="The Mint Flavoured Markdown logo, a capital 'M' covered in minty vegetation and adjacent to an arrow pointing down. Designed by Imagen 4, edited by Ethan Marks" src="/images/mfm-banner.webp" />
<p>When I started designing and prototyping my <a href="/blog/personalwebsite">personal website</a>, I was very much inspired by <a href="https://leanrada.com/notes/vanilla-web-rewrite/">this blog post</a> by <a href="https://leanrada.com/">Lean Rada</a>. Basically, it advocates for authoring blog content in pure <a href="https://en.wikipedia.org/wiki/HTML">HTML</a>, rather than using a <a href="https://en.wikipedia.org/wiki/Static_site_generator">static site generator</a> like <a href="https://en.wikipedia.org/wiki/Jekyll_(software)">Jekyll</a> that converts <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> into HTML.</p>
<p>This made a lot of sense to me, as I really didn't want to have to learn Jekyll (in fact, I wanted to <a href="https://en.wikipedia.org/wiki/Strange_Case_of_Dr_Jekyll_and_Mr_Hyde">Hyde</a> from it entirely). So for a couple months, I authored each and every blog post in pure HTML.</p>
<p>As I quickly learned, the problem with this approach is that it's extremely verbose. Rather than just containing the words I wanted to say, each blog post's file had to contain a bunch of <a href="https://en.wikipedia.org/wiki/Boilerplate_code">boilerplate</a> that was the same on every page, like where the site <a href="https://en.wikipedia.org/wiki/Favicon">favicon</a> is located. It also meant that I had to do a bunch of things manually, like adding new blog posts to their aggregator page (There were three: Curios, Figments, and Elsewise. Nowadays I use <a href="/tag">tags</a> for this). I dislike doing things manually (one of my early programming projects, when I was 11 years old, was a quadratic formula calculator that I built because I loved math but hated manual arithmetic), and it really bugged me that I couldn't automate the tedious blog-authoring tasks.</p>
<p>To solve this, On June 6th, I <a href="https://github.com/ColourlessSpearmint/colourlessspearmint.github.io/commit/81e2247227d1a9d3dddd4f9173da3d1602e9e405">made my own SSG</a> that parsed Markdown into HTML. This was a much better solution, and it's allowed me to add a bunch more functionality to my site, like tags, by expanding the SSG over the past three weeks. </p>
<p>The only problem was that a few of my blog posts used elements that didn't exist in Markdown, like juxtapose.js sliders, videos, and poems. My solution was to just <a href="https://css-tricks.com/embedded-content-in-markdown/">embed HTML</a> into the markdown files. This <em>worked</em>, but it felt like a messy compromise the kind of defeated the point of using Markdown in the first place. I decided that I should use another Markdown flavour (which is the technical term, by the way) that supported the features I wanted natively.</p>
<p>There are a few different flavours of Markdown. The default flavour is <a href="https://commonmark.org/">CommonMark</a>. Probably the most-used flavour is <a href="https://github.github.com/gfm/">Github Flavored Markdown</a> (GFM). There's also <a href="https://github.com/vimtaai/extramark">ExtraMark</a>, <a href="https://fletcherpenney.net/multimarkdown/">MultiMarkdown</a>, and <a href="https://gist.github.com/vimtaai/99f8c89e7d3d02a362117284684baa0f">lots of others</a>. Neither of these have support for iframes or centered text, so I knew I had to make my own flavour.</p>
<h2>MFM</h2>
<p>I present: <strong>Mint Flavoured Markdown</strong>. It's a superset of CommonMark, but with a few extra features specifically tailored to my use case. </p>
<p>The name is obviously a reference to my username, ColourlessSpearmint. It would probably make more sense to call it "Spearmint Flavoured Markdown", but then it wouldn't be evocative of toothpaste, which is a critical feature in software design. Also it uses the British English spelling because I'm the one who developed it and I prefer that spelling and you can spell it however you like in <em>your</em> Markdown flavour.</p>
<p>I'm pretty sure that I'll be adding more features at some point in the future, so I'll be a responsible developer and use versioning. This blog post was first published on June 30, coinciding exactly with the release of MFM v1. I'll edit this post if I release a new version.</p>
<h2>MFM v1</h2>
<h3>iFrames</h3>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/iframe">HTML Inline Frames</a> (iFrames) can be declared in MFM by using double square brackets that contain the iFrame title, followed by single parenthesis that contains the iFrame src. It was inspired by Obsidian Flavored Markdown's <a href="https://help.obsidian.md/embeds">note embedding syntax</a>.</p>
<p>For example, the following Markdown...</p>
<div class="codehilite"><pre><span></span><code>![[Test]](https://colourlessspearmint.github.io)
</code></pre></div>

<p>...parses into the following HTML.</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">iframe</span> 
    <span class="na">scrolling</span><span class="o">=</span><span class="s">&quot;no&quot;</span> 
    <span class="na">title</span><span class="o">=</span><span class="s">&quot;Test&quot;</span> 
    <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://colourlessspearmint.github.io&quot;</span> 
    <span class="na">frameborder</span><span class="o">=</span><span class="s">&quot;no&quot;</span> 
    <span class="na">loading</span><span class="o">=</span><span class="s">&quot;lazy&quot;</span> 
    <span class="na">allowtransparency</span><span class="o">=</span><span class="s">&quot;true&quot;</span> 
    <span class="na">allowfullscreen</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</code></pre></div>

<p>I suggest the following <a href="https://en.wikipedia.org/wiki/Regular_expression">regular expression</a> for capturing the content of iFrame declarations.</p>
<div class="codehilite"><pre><span></span><code>r&quot;!\[\[(.*?)\]\]\((.*?)\)&quot;
</code></pre></div>

<h3>Media</h3>
<p>MFM extends the default <a href="https://github.com/adam-p/markdown-here/wiki/markdown-cheatsheet#images">Markdown image syntax</a> to include other forms of media, such as videos, animations, and YouTube videos.</p>
<h4>Videos</h4>
<p>If the file extension of the media src is an <a href="https://en.wikipedia.org/wiki/MP4_file_format">MP4</a>, <a href="https://en.wikipedia.org/wiki/WebM">WebM</a>, <a href="https://en.wikipedia.org/wiki/Ogg">Ogg</a>, or <a href="https://en.wikipedia.org/wiki/QuickTime_File_Format">QTFF</a> (.mov), it will be treated as a video, rather than an image.</p>
<p>The default behavior is for it to be parsed into a video element that does not loop, is not muted, and requires user input to start playback. For example, the following Markdown...</p>
<div class="codehilite"><pre><span></span><code>![<span class="nt">Test</span>](<span class="na">https://colourlessspearmint.github.io/images/example.webm</span>)
</code></pre></div>

<p>...parses into the following HTML.</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">video</span> 
    <span class="na">class</span><span class="o">=</span><span class="s">&quot;video&quot;</span> 
    <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://colourlessspearmint.github.io/images/example.webm&quot;</span> 
    <span class="na">controls</span>
    <span class="na">alt</span><span class="o">=</span><span class="s">&quot;Test&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">video</span><span class="p">&gt;</span>
</code></pre></div>

<h4>Animations</h4>
<p>The MFM animation syntax is an override of the video syntax. The difference is that the text in the square brackets is prefixed with "GIF ". The "GIF" prefix will be removed from the final alt text. It is then parsed into a video element that loops, is muted, and autoplays. For example, the following Markdown...</p>
<div class="codehilite"><pre><span></span><code>![<span class="nt">GIF Test</span>](<span class="na">https://colourlessspearmint.github.io/images/example.webm</span>)
</code></pre></div>

<p>...parses into the following HTML.</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">video</span> 
    <span class="na">class</span><span class="o">=</span><span class="s">&quot;gif&quot;</span> 
    <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://colourlessspearmint.github.io/images/example.webm&quot;</span> 
    <span class="na">autoplay</span>
    <span class="na">loop</span>
    <span class="na">muted</span>
    <span class="na">playsinline</span>
    <span class="na">alt</span><span class="o">=</span><span class="s">&quot;Test&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">video</span><span class="p">&gt;</span>
</code></pre></div>

<p>The usage of the term "GIF" is obviously derived from the <a href="https://en.wikipedia.org/wiki/GIF">GIF image format</a>, even though GIFs aren't in the list of supported video formats. GIFs are extremely bad at storing videos and are inferior in every way to <a href="https://en.wikipedia.org/wiki/AV1">WebM AV1</a>, so developers are discouraged for using them. "GIF" has just become the colloquial term for a short, looping, muted animation, so I decided to just roll with it and use that as the reserved syntax. MFM media animations are related only in spirit to GIF images.</p>
<h4>YouTube</h4>
<p>In MFM, a media element is parsed into a <a href="https://developers.google.com/youtube/player_parameters">YouTube embedded player</a> via an iFrame if the address of the media src starts with "https://www.youtube.com" or similar. For example, the following Markdown...</p>
<div class="codehilite"><pre><span></span><code>![<span class="nt">Test</span>](<span class="na">https://www.youtube.com/watch?v=hS_AXRRnIzM</span>)
</code></pre></div>

<p>...parses into the following HTML.</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">iframe</span> 
    <span class="na">width</span><span class="o">=</span><span class="s">&quot;560&quot;</span> 
    <span class="na">height</span><span class="o">=</span><span class="s">&quot;315&quot;</span> 
    <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://www.youtube.com/embed/hS_AXRRnIzM&quot;</span> 
    <span class="na">frameborder</span><span class="o">=</span><span class="s">&quot;0&quot;</span> 
    <span class="na">allow</span><span class="o">=</span><span class="s">&quot;autoplay; encrypted-media&quot;</span> 
    <span class="na">allowfullscreen</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</code></pre></div>

<p>I suggest the following regular expression for for capturing the content of YouTube media declarations.</p>
<div class="codehilite"><pre><span></span><code>r&quot;https?://(?:www\.)?(?:youtube\.com/watch\?v=|youtu\.be/)([\w-]+)&quot;
</code></pre></div>

<h3>Double Blockquotes</h3>
<p>The MFM double blockquotes syntax parses into a blockquote element with the class "centered-blockquote". Any consecutive lines that start with "&gt;&gt;" (two greater-than signs) are grouped together and rendered as a centered blockquote. Blank lines within the blockquote are used to separate stanzas, which are rendered as separate paragraph tags.</p>
<p>For example, the following Markdown...</p>
<div class="codehilite"><pre><span></span><code>&gt;&gt; This is a centered blockquote.
&gt;&gt; It can span multiple lines.
&gt;&gt;
&gt;&gt; This is a new stanza.
</code></pre></div>

<p>...parses into the following HTML.</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">blockquote</span> <span class="na">class</span><span class="o">=</span><span class="s">&#39;centered-blockquote&#39;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>This is a centered blockquote.<span class="p">&lt;</span><span class="nt">br</span><span class="p">&gt;</span>
    It can span multiple lines.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>This is a new stanza.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">blockquote</span><span class="p">&gt;</span>
</code></pre></div>

<p>Only lines that begin with "&gt;&gt;" (optionally preceded by whitespace) are included in the blockquote. The "&gt;&gt;" is removed, and any leading whitespace after it is also removed. The blockquote ends when a non-blockquote line is encountered.</p>
<p>The "centered-blockquote" class should be centered in the page while keeping the text aligned to the left. This is useful for poetry, song lyrics, etc. I suggest the following CSS rule to implement this.</p>
<div class="codehilite"><pre><span></span><code><span class="nt">blockquote</span><span class="p">.</span><span class="nc">centered-blockquote</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="n">fit-content</span><span class="p">;</span>
<span class="w">    </span><span class="k">margin-left</span><span class="p">:</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span>
<span class="w">    </span><span class="k">margin-right</span><span class="p">:</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<h2>Conclusion</h2>
<p>Mint Flavored Markdown is my first custom specification, and it's already proven to be quite useful in making my blog posts more concise. I don't honestly expect anybody else to use MFM, but maybe some of its syntax could be of inspiration. It goes without saying that you can use and adapt MFM however you like.</p>
<p>~Ethan</p>
</article>
</main>
<ethan-footer></ethan-footer>
</body>
</html>